/*! npm-geonet-api 2021-08-01 */

var myKey=JSON.parse(myKey),key=myKey[0].key,searchBtn=document.querySelector("#searchBtn"),newsContainer=document.querySelector(".container"),queryUrl="https://content.guardianapis.com/search?show-fields=headline,trailText,thumbnail,byline&show-elements=all&api-key="+key;function updateDom(){for(;newsContainer.firstChild;)newsContainer.removeChild(newsContainer.lastChild);console.log(queryUrl),$.ajax({url:queryUrl,type:"GET",data:"json",success:function(e){console.log(e),console.log(e.response.results);for(var s=0;s<e.response.results.length;s++)document.querySelector(".container").innerHTML+='<div class="col-4"><div class="card"><div class="card-body"><img src="'+e.response.results[s].fields.thumbnail+'" style="width:100%;"><h5 class="card-title" style="padding-top:20px;">'+e.response.results[s].fields.headline+'</h5><p class="card-text">'+e.response.results[s].fields.trailText+'</p><p class="card-text" style="text-align:right;  font-style: italic;">'+e.response.results[s].fields.byline+"</p></div></div></div>"},error:function(){console.log("error")}})}function updateSearch(){var e=document.querySelector(".search-bar").value,s=document.querySelector("#country").value,r=document.querySelector("#category").value,e=e?"&q="+e:"",s=s?","+s:"",r=r?","+r:"";queryUrl="https://content.guardianapis.com/search?show-fields=headline,trailText,thumbnail,byline&show-elements=all"+e+s+r+"&api-key="+key,console.log(queryUrl),updateDom()}$.ajax({url:queryUrl,type:"GET",data:"json",success:function(e){console.log(e),console.log(e.response.results);for(var s=0;s<e.response.results.length;s++)document.querySelector(".container").innerHTML+='<div class="col-4"><div class="card"><div class="card-body"><img src="'+e.response.results[s].fields.thumbnail+'" style="width:100%;"><h5 class="card-title" style="padding-top:20px;">'+e.response.results[s].fields.headline+'</h5><p class="card-text">'+e.response.results[s].fields.trailText+'</p><p class="card-text" style="text-align:right;  font-style: italic;">'+e.response.results[s].fields.byline+"</p></div></div></div>"},error:function(){console.log("error")}}),searchBtn.addEventListener("click",updateSearch,!1);