/*! npm-geonet-api 2021-08-05 */

var myKey=JSON.parse(myKey),key=myKey[0].key,searchBtn=document.querySelector("#searchBtn"),newsContainer=document.querySelector(".container"),aboutContainer=document.querySelector(".about-me"),abtLink=document.querySelector(".abt-link"),page=document.querySelector("body"),queryUrl="https://content.guardianapis.com/search?show-fields=headline,trailText,thumbnail,byline&show-elements=all&api-key="+key;function updateDom(){for(;newsContainer.firstChild;)newsContainer.removeChild(newsContainer.lastChild);console.log(queryUrl),$.ajax({url:queryUrl,type:"GET",data:"json",success:function(e){console.log(e),console.log(e.response.results);for(var s=0;s<e.response.results.length;s++)document.querySelector(".container").innerHTML+='<div class="col-4"><div class="card"><div class="card-body"><img src="'+e.response.results[s].fields.thumbnail+'" style="width:100%;"><h5 class="card-title" style="padding-top:20px;">'+e.response.results[s].fields.headline+'</h5><p class="card-text">'+e.response.results[s].fields.trailText+'</p><p class="card-text bg" style="text-align:right;  font-style: italic;">'+e.response.results[s].fields.byline+'</p><a href="'+e.response.results[s].webUrl+'" class="stretched-link" target="_blank"></a></div></div></div>'},error:function(){console.log("error")}})}function updateSearch(){var e=document.querySelector(".search-bar").value,s=document.querySelector("#country").value,t=document.querySelector("#category").value;newsContainer.style.opacity=1,aboutContainer.style.opacity=0,page.style.overflowY="auto",queryUrl="https://content.guardianapis.com/search?show-fields=headline,trailText,thumbnail,byline&show-elements=all&q="+(e||"")+(s?","+s:"")+(t?","+t:"")+"&api-key="+key,console.log(queryUrl),updateDom()}$.ajax({url:queryUrl,type:"GET",data:"json",success:function(e){console.log(e),console.log(e.response.results);for(var s=0;s<e.response.results.length;s++)document.querySelector(".container").innerHTML+='<div class="col-4"><div class="card"><div class="card-body"><img src="'+e.response.results[s].fields.thumbnail+'" style="width:100%;"><h5 class="card-title" style="padding-top:20px;">'+e.response.results[s].fields.headline+'</h5><p class="card-text">'+e.response.results[s].fields.trailText+'</p><p class="card-text bg" style="text-align:right;  font-style: italic;">'+e.response.results[s].fields.byline+'</p><a href="'+e.response.results[s].webUrl+'" class="stretched-link" target="_blank"></a></div></div></div>'},error:function(){console.log("error")}}),searchBtn.addEventListener("click",updateSearch,!1),abtLink.addEventListener("click",()=>{newsContainer.style.opacity=0,aboutContainer.style.opacity=1,page.style.overflowY="hidden"},!1);